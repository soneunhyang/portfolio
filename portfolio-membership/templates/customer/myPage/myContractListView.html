<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  layout:decorate="~{customer/layout/myPageDefault}">
	
	<!-- head 삽입공간 -->
	<head>
	
	</head>
	
	
	
	<!-- 페이지 삽입공간 -->
<th:block layout:fragment="customContents">
	<div class="container">
		<div class="content-header">
			<div>
				<h2 class="content-title card-title">계약조회</h2>
			</div>
	
		</div>
		<div class="card mb-4">
			<header class="card-header">
				<form th:action="@{/customer/contract/myContractList}" method="get">
					<div class="row gx-3 d-flex justify-content-end">
	                   <div class="col-lg-2 col-md-3 col-12">

	                    <select class="form-floating" name="searchKey" onchange="this.form.submit()">
							<option value="" th:selected="${searchKey == null or searchKey == ''}">-- 계약상태 선택 --</option>
							<option value="계약완료" th:selected="${searchKey == '계약완료'}">계약완료</option>
							<option value="계약최종완료" th:selected="${searchKey == '계약최종완료'}">계약최종완료</option>
							<option value="취소" th:selected="${searchKey == '취소'}">취소</option>
							<option value="중도해지" th:selected="${searchKey == '중도해지'}">중도해지</option>
							<option value="양도" th:selected="${searchKey == '양도'}">양도</option>
							<option value="계약만료" th:selected="${searchKey == '계약만료'}">계약만료</option>
							<option value="양수계약완료" th:selected="${searchKey == '양수계약완료'}">양수계약완료</option>
							<option value="양수계약최종완료" th:selected="${searchKey == '양수계약최종완료'}">양수계약최종완료</option>
                        </select>

	                   </div>
	               </div>
				</form>
			</header>
			<div class="card-body">
				<div class="table-responsive">
					<div class="table-responsive">
						<table class="table align-middle table-nowrap mb-0">
							<thead class="table-light text-center">
								<tr>
									<th width="12%" class="align-middle" scope="col">렌탈사</th>	
									<th width="12%" class="align-middle" scope="col">상품명</th>	
									<th width="12%" class="align-middle" scope="col">계약번호</th>	
									<th width="10%" class="align-middle" scope="col">계약상태</th>
									<th width="6%" class="align-middle" scope="col">수량</th>
									<th width="6%" class="align-middle" scope="col">렌탈기간</th>
									<th width="10%" class="align-middle" scope="col">계약 시작일자</th>
									<th width="10%" class="align-middle" scope="col">계약 종료일자</th>
									<th width="10%" class="align-middle" scope="col">계약 해지일자</th>
									<th width="10%" class="align-middle" scope="col">계약 등록일자</th>
								</tr>
							</thead>
							<tbody class="text-center">
								<tr th:if="${!#lists.isEmpty(customerContractList)}" th:each="l : ${customerContractList}">
									
									<td class = "p-0" th:text="${l.entName}">렌탈사 </td>
									<td class = "p-1" th:text="${l.productName}">상품명 </td>

									<td>
									  <a href="#"
									     th:text="${l.rentalContractNo}"
									     th:onclick="'javascript:openContractDetail(\'' + @{/customer/contract/contractDetails(rentalContNo=${l.rentalContractNo})} + '\'); return false;'">
									    계약번호
									  </a>
									</td>

									<td class = "p-0" th:text="${l.rentalContractStatus}">계약상태</td>
									<td class = "p-0" th:text="${l.contractQuantity}">수량</td>
									<td class = "p-0" th:text="${l.contractPeriod}">렌탈기간</td>
									<td class = "p-0" th:text="${l.rentalStartDate}">계약시작일자</td>
									<td class = "p-0" th:text="${l.rentalEndDate}">계약종료일자</td>
									<td class = "p-0" th:text="${l.rentalCancelDate}">계약해지일자</td>
									<td class = "p-0" th:text="${l.contractDate}">계약등록일자</td>
								</tr>
								<tr th:unless="${!#lists.isEmpty(customerContractList)}">
                                	<td colspan="12">등록없음</td>
                                </tr>
								
							</tbody>
						</table>
					</div>
				</div>
				<!-- table-responsive //end -->
			</div>
			<!-- card-body end// -->
		</div>
		<!-- card end// -->
		

</div>
	<th:block layout:fragment="jsFile">
	
	</th:block>
	
<th:block layout:fragment="jsScript">
		<script th:inline="javascript">
			function openContractDetail(url) {
				window.open(url, 'contractDetailPopup', 'width=1024,height=768,scrollbars=yes');
			}
	</script>
</th:block>





		
	</th:block>

</html>